<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <title>Dniester Earth Observatory</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Our Styles -->
    <link rel="stylesheet" href="css/style.css">
<style>
.gis-sidebar {
  width: 300px;
  background: rgba(255,255,255,0.85);
  border-radius: 12px;
  padding: 20px;
  backdrop-filter: blur(6px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
}

.gis-tree-item {
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 4px 0;
  font-size: 14px;
}

.gis-tree-children {
  margin-left: 22px;
  margin-top: 4px;
  border-left: 1px dashed #ccc;
  padding-left: 12px;
}

.gis-folder-icon {
  font-size: 16px;
  color: #5a7b9a;
}

.gis-layer-cb {
  margin-right: 6px;
}

.accordion-button {
  padding: 8px 14px;
  font-weight: 600;
}

.accordion-item {
  border-radius: 8px !important;
  margin-bottom: 10px;
  overflow: hidden;
}
</style>


</head>
<body>

<!-- =========================================================
     TOP BAR (STYLE: NASA EARTH OBSERVATORY)
     ========================================================= -->
<nav class="eo-topbar">
    <div class="container-xxl d-flex justify-content-between align-items-center">

        <!-- LEFT: LOGO + LINKS -->
        <div class="d-flex align-items-center gap-4">
            <a href="#" class="eo-topbar-logo">
                <img src="images/main_logo.svg" alt="Logo" style="height:36px;width:auto;object-fit:contain;">
            </a>

            <a href="index.html" class="eo-topbar-link">News</a>
            <a href="#" class="eo-topbar-link">About Commission</a>
            <a href="#" class="eo-topbar-link">Projects</a>
            <a href="#" class="eo-topbar-link">HIS</a>
            <a href="gis.html" class="eo-topbar-link active">GIS</a>
        </div>


        <!-- RIGHT SIDE: LANGS + SEARCH -->
        <div class="d-flex align-items-center gap-3">

            <!-- Language Switcher -->
            <div class="eo-lang-switcher d-flex align-items-center gap-2">
                <a href="#" class="eo-lang-link active">EN</a>
                <a href="#" class="eo-lang-link">UA</a>
                <a href="#" class="eo-lang-link">RO</a>
            </div>

            <!-- Search -->
            <i class="bi bi-search fs-4 eo-topbar-search"
            data-bs-toggle="modal"
            data-bs-target="#searchModal"
            style="cursor:pointer;"></i>
        </div>

    </div>
</nav>


<!-- =========================================================
     MAIN CONTENT
     ========================================================= -->
<main class="eo-main">
<section class="gis-section">
  <div class="gis-container">

    <!-- Sidebar -->
<div class="gis-sidebar">

  <div class="accordion" id="gisAccordion">

    <!-- ============================ -->
    <!-- 1. NAVIGATION -->
    <!-- ============================ -->
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" 
                type="button" data-bs-toggle="collapse"
                data-bs-target="#accNavigation">
          Navigation
        </button>
      </h2>

      <div id="accNavigation" class="accordion-collapse collapse show" data-bs-parent="#gisAccordion">
        <div class="accordion-body">

          <!-- Catalogue of bridges -->
          <div class="gis-tree-item">
            <i class="bi bi-folder-fill gis-folder-icon"></i>
            Catalogue of bridges
          </div>

          <div class="gis-tree-children">
            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb">
              Bridges
            </label>
          </div>

          

          <!-- ENC -->
          <div class="gis-tree-item">
            <i class="bi bi-folder-fill gis-folder-icon"></i>
            ENC
          </div>

          <div class="gis-tree-children">

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Light
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Beacon, lateral
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Notice mark
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Distance mark
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Buoy, lateral
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Wreck
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Anchorage area
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Anchor berth
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Cable area
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Cable overhead
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Cable, submarine
            </label>

          </div>

        </div>
      </div>
    </div>


    <!-- ============================ -->
    <!-- 2. HYDROLOGICAL & METEOROLOGICAL -->
    <!-- ============================ -->
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed"
                type="button" data-bs-toggle="collapse"
                data-bs-target="#accHydro">
          Hydrological and meteorological data
        </button>
      </h2>

      <div id="accHydro" class="accordion-collapse collapse" data-bs-parent="#gisAccordion">
        <div class="accordion-body">

          <div class="gis-tree-item">
            <i class="bi bi-folder-fill gis-folder-icon"></i>
            Sava HIS
          </div>

          <div class="gis-tree-children">
            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Hydrological Stations
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Meteorological Stations
            </label>
          </div>

        </div>
      </div>
    </div>


    <!-- ============================ -->
    <!-- 3. RIVER BASIN MANAGEMENT -->
    <!-- ============================ -->
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed"
                type="button" data-bs-toggle="collapse"
                data-bs-target="#accRBM">
          River Basin Management
        </button>
      </h2>

      <div id="accRBM" class="accordion-collapse collapse" data-bs-parent="#gisAccordion">
        <div class="accordion-body">

          <div class="gis-tree-item">
            <i class="bi bi-folder-fill gis-folder-icon"></i>
            Sava GIS
          </div>

          <div class="gis-tree-children">

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Competent Authorities Area
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> River Basin Districts
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> EU Ecoregions
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> River segments
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> River Water Body Segment
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Surface Water Monitoring Site
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Waterway
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> River Basin
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> SubBasin
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Groundwater Body
            </label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Protected Area – point</label>

            <label class="gis-tree-item">
              <input type="checkbox" class="gis-layer-cb"> Protected Area – polygon</label>

          </div>
        </div>
      </div>
    </div>

  </div>

</div>


    <!-- Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  #real-map {
    width: 100%;
    height: 600px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  }
</style>

<div id="real-map"></div>

<script>
// Создаём карту
const map = L.map('real-map').setView([46.37, 30.32], 10);

// Terrain подложка (OpenTopoMap — красиво и контрастно)
L.tileLayer('https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
    maxZoom: 19
}).addTo(map);



// -------------------------------------------------------
// ФУНКЦИЯ мини-точки (уменьшенный glow)
// -------------------------------------------------------
function glowMini(lat, lon, color="#00aaff") {
    return L.circleMarker([lat, lon], {
        radius: 5,            // маленькие!
        color: color,
        fillColor: color,
        fillOpacity: 0.8,
        weight: 2,
        opacity: 0.7
    }).addTo(map);
}


// -------------------------------------------------------
// СЕТКА ИЛИ СЛУЧАЙНАЯ РАССТАНОВКА ТОЧЕК (25 точек)
// -------------------------------------------------------

function rand(min, max) {
    return min + Math.random() * (max - min);
}

// регион лимана
const LAT_MIN = 46.35;
const LAT_MAX = 46.56;
const LON_MIN = 30.18;
const LON_MAX = 30.42;

const colors = ["#00c2ff", "#00ffaa", "#ffdd00"];

for (let i = 0; i < 25; i++) {
    glowMini(
        rand(LAT_MIN, LAT_MAX),
        rand(LON_MIN, LON_MAX),
        colors[i % colors.length]
    );
}


// Главная подписьная точка (можно оставить)
// L.marker([46.412, 30.344])
//   .addTo(map)
//   .bindPopup("<b>Dniester Estuary</b><br>Mouth of the river");
</script>



  </div>
</section>


</main>

<footer class="eo-footer">
    <div class="container-xxl">

        <!-- TOP ROW -->

        <!-- PARTNER LOGOS -->
        <div class="eo-footer-partners d-flex flex-wrap justify-content-center align-items-center gap-4 mt-4 mb-4">

            <img src="images/mindovkillya-logo.png" alt="Partner 1" class="eo-partner-logo">
            <img src="images/ministerul_mediului_logo.jpg" alt="Partner 2" class="eo-partner-logo">
            <img src="images/p3.png" alt="Partner 3" class="eo-partner-logo">
            <img src="images/undp-logo.png" alt="UNDP" class="eo-partner-logo">
            <img src="images/OSCE_LT_ENG_RGB.png" alt="OSCE" class="eo-partner-logo" style="height: 36px;">
            <img src="images/unece.svg" alt="Partner 6" class="eo-partner-logo">

        </div>


        <div class="eo-footer-top d-flex flex-wrap justify-content-between">

            <div class="eo-footer-col">
                <h5>Explore</h5>
                <a href="#">Images</a>
                <a href="#">Stories</a>
                <a href="#">Global Maps</a>
                <a href="#">Features</a>
            </div>

            <div class="eo-footer-col">
                <h5>Research</h5>
                <a href="#">Hydrology</a>
                <a href="#">Water Quality</a>
                <a href="#">Natural Events</a>
                <a href="#">Climate</a>
            </div>

            <div class="eo-footer-col">
                <h5>Resources</h5>
                <a href="#">Data Portal</a>
                <a href="#">API</a>
                <a href="#">GIS Tools</a>
                <a href="#">Publications</a>
            </div>

            <div class="eo-footer-col">
                <h5>About</h5>
                <a href="#">Dniester Commission</a>
                <a href="#">Partners</a>
                <a href="#">Contacts</a>
                <a href="#">Press</a>
            </div>

        </div>

        <!-- BOTTOM ROW -->
        <div class="eo-footer-bottom d-flex flex-column flex-md-row justify-content-between align-items-center mt-4">
            <span class="small">&copy; 2025 Dniester Commission</span>

            <div class="eo-footer-social d-flex gap-3">
                <a href="#"><i class="bi bi-facebook"></i></a>
                <a href="#"><i class="bi bi-instagram"></i></a>
                <a href="#"><i class="bi bi-twitter-x"></i></a>
                <a href="#"><i class="bi bi-youtube"></i></a>
            </div>
        </div>

    </div>
</footer>


<!-- SEARCH MODAL -->
<div class="modal fade" id="searchModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content p-3">

      <div class="modal-header border-0">
        <h5 class="modal-title d-flex align-items-center gap-2">
            <i class="bi bi-search"></i> Search
            <span class="badge bg-info">AI Assistant — Beta</span>
        </h5>

        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <!-- Search input -->
        <div class="mb-3">
            <input type="text" class="form-control form-control-lg" 
                   placeholder="water quality monitoring">
        </div>

        <!-- Divider -->
        <hr>

        <!-- Fake AI answer -->
        <div class="ai-answer">
            <p>
                <strong>AI Assistant:</strong><br>
                Based on your query about 
                <mark>water quality monitoring</mark>,  
                here are the most relevant sections of the website:
            </p>

            <ul>
                <li>
                    <a href="#">Water Quality Reports</a> — annual and quarterly analytical reports.
                </li>
                <li>
                    <a href="#">Monitoring → Hydrology</a> — water level and flow measurements.
                </li>
                <li>
                    <a href="#">Projects → Ongoing</a> — active cross-border environmental initiatives.
                </li>
            </ul>

            <p>
                You may also be interested in  
                <mark>ecological assessment</mark> of the Dniester basin.
            </p>
        </div>

      </div>

    </div>
  </div>
</div>




<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Новый красивый стиль карты -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
// Создаём карту (центр — Днестровский лиман)
const map = L.map('real-map').setView([46.37, 30.32], 10);

// Подключаем красивый eco-стиль
L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png', {
    maxZoom: 18,
    attribution: '© OpenStreetMap, © Stadia Maps'
}).addTo(map);

// ========================
//  ДОПОЛНИТЕЛЬНЫЕ МАРКЕРЫ
// ========================

// Основная точка — впадение Днестра
L.marker([46.412, 30.344])
  .addTo(map)
  .bindPopup("<b>Dniester Estuary</b><br>Mouth of the river");

// Дополнительные точки (примерные)
// Гидропост №1
L.marker([46.45, 30.28])
  .addTo(map)
  .bindPopup("<b>Monitoring Station</b><br>Hydrology");

// Гидропост №2
L.marker([46.39, 30.29])
  .addTo(map)
  .bindPopup("<b>Monitoring Station</b><br>Chemical analysis");

// Экологическая точка наблюдения
L.marker([46.52, 30.33])
  .addTo(map)
  .bindPopup("<b>Ecology Observation Point</b><br>Biodiversity survey");

// Точка качества воды
L.circleMarker([46.48, 30.26], {
    radius: 10,
    color: "#1c7c54",
    fillColor: "#39d98a",
    fillOpacity: 0.8
})
.addTo(map)
.bindPopup("<b>Water Quality Site</b><br>Sampling area");

// Точка измерения течений
L.circleMarker([46.43, 30.37], {
    radius: 8,
    color: "#0077cc",
    fillColor: "#4db7ff",
    fillOpacity: 0.7
})
.addTo(map)
.bindPopup("<b>Flow Measurement</b><br>Velocity monitoring");

</script>

</body>
</html>
